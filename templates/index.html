{% extends "layout.html" %}

{% block content %}
<!-- Header Section -->
<header class="cyber-header text-center">
    <h1 class="display-4 cyber-title cyber-glow-text">CryptoSteg</h1>
    <p class="cyber-subtitle lead">Secure Steganography & Encryption Tool</p>
</header>

<!-- Tab Content -->
<div class="tab-content">
    <!-- Steganography Tab -->
    <div class="tab-pane fade show active" id="steganography">
        <div class="row">
            <!-- Hide Data Panel -->
            <div class="col-md-6 mb-4">
                <div class="cyber-panel">
                    <div class="panel-header">
                        <h2 class="cyber-glow-text"><i class="fas fa-eye-slash me-2"></i> Hide Data in Image</h2>
                    </div>
                    <div class="panel-body">
                        <!-- Image Upload -->
                        <div class="mb-3">
                            <label for="hideImageUpload" class="form-label">Select an Image:</label>
                            <input class="form-control" type="file" id="hideImageUpload" accept="image/png, image/jpeg, image/gif, image/bmp">
                        </div>
                        
                        <!-- Image Preview -->
                        <div class="cyber-image-container mb-3">
                            <div id="hideNoImageMessage" class="cyber-no-image">
                                <i class="fas fa-image fa-3x mb-2"></i>
                                <span>No image selected</span>
                            </div>
                            <img id="hideImagePreview" class="cyber-image" style="display: none;" alt="Image Preview">
                        </div>
                        
                        <!-- Image Info -->
                        <div class="mb-3">
                            <small id="hideImageInfo" class="text-secondary"></small>
                        </div>
                        
                        <!-- Data Input -->
                        <div class="mb-3">
                            <label for="hideData" class="form-label">Text to Hide:</label>
                            <textarea class="form-control" id="hideData" rows="4" placeholder="Enter the secret text to hide in the image..."></textarea>
                        </div>
                        
                        <!-- Password -->
                        <div class="mb-3">
                            <label for="hidePassword" class="form-label">Password (optional):</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="hidePassword" placeholder="Enter a password to encrypt the data">
                                <button class="btn btn-outline-secondary" type="button" id="toggleHidePassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text text-secondary">If provided, data will be encrypted before hiding.</div>
                        </div>
                        
                        <!-- Action Button -->
                        <div class="d-grid gap-2">
                            <button id="hideDataBtn" class="btn btn-primary">
                                <i class="fas fa-eye-slash me-2"></i> Hide Data in Image
                            </button>
                        </div>
                        
                        <!-- Result Actions (initially hidden) -->
                        <div id="hideResultActions" class="mt-3 text-center" style="display: none;">
                            <button id="hideDownloadBtn" class="btn btn-success">
                                <i class="fas fa-download me-2"></i> Download Steganographic Image
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Extract Data Panel -->
            <div class="col-md-6 mb-4">
                <div class="cyber-panel">
                    <div class="panel-header">
                        <h2 class="cyber-glow-text"><i class="fas fa-eye me-2"></i> Extract Hidden Data</h2>
                    </div>
                    <div class="panel-body">
                        <!-- Image Upload -->
                        <div class="mb-3">
                            <label for="extractImageUpload" class="form-label">Select an Image with Hidden Data:</label>
                            <input class="form-control" type="file" id="extractImageUpload" accept="image/png, image/jpeg, image/gif, image/bmp">
                        </div>
                        
                        <!-- Image Preview -->
                        <div class="cyber-image-container mb-3">
                            <div id="extractNoImageMessage" class="cyber-no-image">
                                <i class="fas fa-image fa-3x mb-2"></i>
                                <span>No image selected</span>
                            </div>
                            <img id="extractImagePreview" class="cyber-image" style="display: none;" alt="Image with Hidden Data">
                        </div>
                        
                        <!-- Image Info -->
                        <div class="mb-3">
                            <small id="extractImageInfo" class="text-secondary"></small>
                        </div>
                        
                        <!-- Password -->
                        <div class="mb-3">
                            <label for="extractPassword" class="form-label">Password (if required):</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="extractPassword" placeholder="Enter the password if data was encrypted">
                                <button class="btn btn-outline-secondary" type="button" id="toggleExtractPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text text-secondary">Required only if data was encrypted during hiding.</div>
                        </div>
                        
                        <!-- Action Button -->
                        <div class="d-grid gap-2">
                            <button id="extractDataBtn" class="btn btn-info">
                                <i class="fas fa-eye me-2"></i> Extract Hidden Data
                            </button>
                        </div>
                        
                        <!-- Result -->
                        <div class="mt-3">
                            <label for="extractedData" class="form-label">Extracted Data:</label>
                            <textarea class="form-control" id="extractedData" rows="4" placeholder="Extracted data will appear here..." readonly></textarea>
                            <div class="d-flex justify-content-end mt-2">
                                <button id="copyExtractedBtn" class="btn btn-sm btn-outline-light">
                                    <i class="fas fa-copy me-1"></i> Copy
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Encryption Tab -->
    <div class="tab-pane fade" id="encryption">
        <div class="row">
            <!-- Encrypt Panel -->
            <div class="col-md-6 mb-4">
                <div class="cyber-panel">
                    <div class="panel-header">
                        <h2 class="cyber-glow-text"><i class="fas fa-lock me-2"></i> Encrypt Text</h2>
                    </div>
                    <div class="panel-body">
                        <!-- Data Input -->
                        <div class="mb-3">
                            <label for="textToEncrypt" class="form-label">Text to Encrypt:</label>
                            <textarea class="form-control" id="textToEncrypt" rows="4" placeholder="Enter text to encrypt..."></textarea>
                        </div>
                        
                        <!-- Encryption Options -->
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="encryptAlgorithm" class="form-label">Encryption Algorithm:</label>
                                <select class="form-select" id="encryptAlgorithm">
                                    <option value="aes">AES</option>
                                    <option value="des">DES</option>
                                    <option value="tripledes">Triple DES</option>
                                    <option value="rabbit">Rabbit</option>
                                    <option value="rc4">RC4</option>
                                    <option value="caesar">Caesar Cipher</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="encryptOutputFormat" class="form-label">Output Format:</label>
                                <select class="form-select" id="encryptOutputFormat">
                                    <option value="base64">Base64</option>
                                    <option value="hex">Hexadecimal</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Caesar Shift (conditionally shown) -->
                        <div id="caesarShiftContainer" class="mb-3" style="display: none;">
                            <label for="caesarShift" class="form-label">Caesar Shift (1-25):</label>
                            <input type="number" class="form-control" id="caesarShift" min="1" max="25" value="3">
                            <div class="form-text text-secondary">Number of positions to shift each letter.</div>
                        </div>
                        
                        <!-- Password -->
                        <div class="mb-3">
                            <label for="encryptKey" class="form-label">Encryption Key/Password:</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="encryptKey" placeholder="Enter encryption key">
                                <button class="btn btn-outline-secondary" type="button" id="toggleEncryptKey">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text text-secondary">Not required for Caesar Cipher.</div>
                        </div>
                        
                        <!-- Action Button -->
                        <div class="d-grid gap-2">
                            <button id="encryptBtn" class="btn btn-primary">
                                <i class="fas fa-lock me-2"></i> Encrypt
                            </button>
                        </div>
                        
                        <!-- Result -->
                        <div class="mt-3">
                            <label for="encryptedText" class="form-label">Encrypted Result:</label>
                            <textarea class="form-control" id="encryptedText" rows="4" placeholder="Encrypted text will appear here..." readonly></textarea>
                            <div class="d-flex justify-content-end mt-2">
                                <button id="copyEncryptedBtn" class="btn btn-sm btn-outline-light">
                                    <i class="fas fa-copy me-1"></i> Copy
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Decrypt Panel -->
            <div class="col-md-6 mb-4">
                <div class="cyber-panel">
                    <div class="panel-header">
                        <h2 class="cyber-glow-text"><i class="fas fa-unlock me-2"></i> Decrypt Text</h2>
                    </div>
                    <div class="panel-body">
                        <!-- Data Input -->
                        <div class="mb-3">
                            <label for="textToDecrypt" class="form-label">Text to Decrypt:</label>
                            <textarea class="form-control" id="textToDecrypt" rows="4" placeholder="Enter encrypted text to decrypt..."></textarea>
                        </div>
                        
                        <!-- Decryption Options -->
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="decryptAlgorithm" class="form-label">Decryption Algorithm:</label>
                                <select class="form-select" id="decryptAlgorithm">
                                    <option value="aes">AES</option>
                                    <option value="des">DES</option>
                                    <option value="tripledes">Triple DES</option>
                                    <option value="rabbit">Rabbit</option>
                                    <option value="rc4">RC4</option>
                                    <option value="caesar">Caesar Cipher</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="decryptInputFormat" class="form-label">Input Format:</label>
                                <select class="form-select" id="decryptInputFormat">
                                    <option value="base64">Base64</option>
                                    <option value="hex">Hexadecimal</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Caesar Shift (conditionally shown) -->
                        <div id="decryptCaesarShiftContainer" class="mb-3" style="display: none;">
                            <label for="decryptCaesarShift" class="form-label">Caesar Shift (1-25):</label>
                            <input type="number" class="form-control" id="decryptCaesarShift" min="1" max="25" value="3">
                            <div class="form-text text-secondary">Must match the shift used for encryption.</div>
                        </div>
                        
                        <!-- Password -->
                        <div class="mb-3">
                            <label for="decryptKey" class="form-label">Decryption Key/Password:</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="decryptKey" placeholder="Enter decryption key">
                                <button class="btn btn-outline-secondary" type="button" id="toggleDecryptKey">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text text-secondary">Not required for Caesar Cipher.</div>
                        </div>
                        
                        <!-- Action Button -->
                        <div class="d-grid gap-2">
                            <button id="decryptBtn" class="btn btn-info">
                                <i class="fas fa-unlock me-2"></i> Decrypt
                            </button>
                        </div>
                        
                        <!-- Result -->
                        <div class="mt-3">
                            <label for="decryptedText" class="form-label">Decrypted Result:</label>
                            <textarea class="form-control" id="decryptedText" rows="4" placeholder="Decrypted text will appear here..." readonly></textarea>
                            <div class="d-flex justify-content-end mt-2">
                                <button id="copyDecryptedBtn" class="btn btn-sm btn-outline-light">
                                    <i class="fas fa-copy me-1"></i> Copy
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- About Tab -->
    <div class="tab-pane fade" id="about">
        <div class="cyber-panel">
            <div class="panel-header">
                <h2 class="cyber-glow-text"><i class="fas fa-info-circle me-2"></i> About CryptoSteg</h2>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-6">
                        <h3 class="mb-3">What is Steganography?</h3>
                        <p>
                            Steganography is the practice of concealing messages or information within other non-secret data or a physical object to avoid detection. 
                            Unlike cryptography, which encrypts information to make it unreadable, steganography hides the existence of the message itself.
                        </p>
                        <p>
                            In digital steganography, data is hidden in digital files such as images, audio, or video. This application uses the Least Significant Bit (LSB) 
                            technique to hide information in images without causing noticeable visual differences.
                        </p>
                        
                        <h3 class="mt-4 mb-3">How to Use This Tool</h3>
                        <ol>
                            <li><strong>Hiding Data:</strong> Upload an image, enter your secret message, optionally provide a password, and click "Hide Data".</li>
                            <li><strong>Extracting Data:</strong> Upload an image containing hidden data, enter the password if required, and click "Extract".</li>
                            <li><strong>Encryption:</strong> You can separately encrypt text using various algorithms before hiding it in an image.</li>
                        </ol>
                    </div>
                    <div class="col-md-6">
                        <h3 class="mb-3">Security Features</h3>
                        <ul>
                            <li><strong>LSB Steganography:</strong> Changes the least significant bits of image pixels to store data, making changes virtually imperceptible.</li>
                            <li><strong>Encryption Integration:</strong> Combines steganography with encryption for dual-layer security.</li>
                            <li><strong>Multiple Algorithms:</strong> Supports AES, DES, Triple DES, Rabbit, RC4, and Caesar Cipher encryption.</li>
                            <li><strong>Client-side Processing:</strong> All operations happen in your browser for enhanced privacy.</li>
                        </ul>
                        
                        <h3 class="mt-4 mb-3">Supported Formats</h3>
                        <p>
                            <span class="badge bg-dark me-2">PNG</span>
                            <span class="badge bg-dark me-2">JPG/JPEG</span>
                            <span class="badge bg-dark me-2">GIF</span>
                            <span class="badge bg-dark">BMP</span>
                        </p>
                        <p class="text-secondary">
                            <i class="fas fa-info-circle me-1"></i> PNG is recommended as it uses lossless compression, which is better for steganography.
                        </p>
                        
                        <div class="alert alert-dark mt-4" role="alert">
                            <i class="fas fa-shield-alt me-2"></i>
                            <strong>Security Note:</strong> While this tool provides good security for educational and personal use, 
                            extremely sensitive information should always be protected with additional security measures.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
